# Copyright 2003, 2004 Hewlett-Packard Development Company, LP

# Like most Linux configuration files, this specifies a set of user controller
# parameters.  In many cases these are commented out which simply means those
# are the default values already used by collectl.  To change a value
# uncomment the line and change it.  To revert back to the default all you 
# need do is recomment the line.

############################
# daemon/service handling
############################

# When someone specifies a daemon is to be run, typically but not limited
# to running collectl as a service, this string will cause the associated
# values to be used.  They CAN also be overriden via a command line switch.
# In other words, if DaemonCommands is set to '-s cdm' and collectl is 
# envoked with -D, it will process subsystems 'cdm'.  However, if it is envoked
# with '-D -s mnp' it will process subsystems 'mnp', there is no combining the
# two set of values.  Be sure to include any switches a daemon is required to 
# have such as -f and either -r or -R.
# NOTE - if things aren't behaving as expected, you can always try running
# collectl in non-daemon mode just to see if there are any error messages.  If
# you include the -m switch, you can also look in the collectl log, which is 
# stored in the logging directory.
DaemonCommands = -f /var/log/collectl -r00:01,7 -m -F60 -s+CYZ

#       E x t r a    L i b r a r i e s

# So far this has only been used during development, but if there are extra
# library locations that should be 'used', put them here.
#Libraries = 

#	S t a n d a r d    U t i l i t i e s

# Note that by default collectl will look for lspci in both /sbin and
# /usr/sbin, but if listed here will only look in that one place.
#Grep =    /bin/grep
#Egrep =   /bin/egrep
#Ps =      /bin/ps
#Rpm =     /bin/rpm
#Ethtool = /sbin/ethtool
#Lspci =   /sbin/lspci
#Lctl =    /usr/sbin/lctl

#       I n f i n i b a n d    S u p p o r t

# Collectl will assume open fabric and will attempt to use the perfquery 
# utility to get the counters.  If not there, it assumes Voltaire and will
# first look in /proc/voltaire/adaptor-mlx/stats and failing that will use
# the get_pcounter utiliy.  Since collectl resets IB counters in the
# hardware you can disable its collection by commenting out the appropriate
# variable below.  PQuery for OFED, PCounter for get_pcounter calls and
# VStat for ALL non-ofed access of any kind.
# can disable either by commenting out the reference to VStat/PQuery below.
PQuery =   /usr/sbin/perfquery:/usr/bin/perfquery:/usr/local/ofed/bin/perfquery
PCounter = /usr/mellanox/bin/get_pcounter
VStat =    /usr/mellanox/bin/vstat:/usr/bin/vstat
OfedInfo = /usr/bin/ofed_info:/usr/local/ofed/bin/ofed_info

# Set this flag to 0 to disable checking for duplicate instances of collectl
# both trying to monitor IB stats
#IbDupCheckFlag=1

#	D e f a u l t s

# This set of variables are actually all set in collectl and you need not
# change them.

# This parameter controls subsystem selection.  The 'core' subsystems are
# selected when the user omits the -s switch OR uses the '+' or '-' to 
# add/remove from that list.  Note that changing this will also change the
# default for -s displayed in help.
#SubsysCore = cdijlmnstx

# although these can all be overridden by switches, they're assumed to
# always be defined so don't remove or comment any of them out!  Over time
# more may be added
#Interval =     10
#Interval2 =    60
#Interval3 =   300

# These are SFS lustre specific.  When using the -OD switch, any partitions
# found to be smaller than LustreSvcLunMax, which is in GB, will be ignored.
# When displaying data in verbose mode, only LustreMaxBlkSize will be
# displayed, but ALL block sizes will be read and recorded
#LustreSvcLunMax  = 10
#LustreMaxBlkSize = 512

# By default, we check at these frequencies to see if lustre or interconnect
# configurations have changed.  Things are efficient enough that now we can
# check for lustre changes every polling interval but I'm leaving the code
# in place rather than remove it in case needed again in the future.
#LustreConfigInt = 1
#InterConnectInt = 900

# These apply to disk/partition limits for exception (-o x/X) processing
#LimSVC =         30 # Minimum partition Avg Service time
#LimIOS =         10 # Minumum number of Disk OR Partion I/Os
#LimBool =         0 # generate exception record if EITHER limit exceeded
#LimLusKBS =     100 # Minimum number of Lustre OSS KB/sec
#LimLusReints = 1000 # Minimum number o Lustre MDS Reint operations

# Socket I/O Defaults
#Port =       2655
#Timeout =      10

# Maximum allowable zlib errors in a single day or run.
#MaxZlibErrors = 20

# Process Processing
# When playing back on a differnt host, there is no way of knowing who the UID 
# of a process belongs to.  The -OU switch tells collectl to use the passwd file
# pointed to by this variable instead of /etc/passwd.
Passwd = /etc/passwd

# In order to detect bogus network data we need to know what is normal for that
# interface.  Collectl uses ethtool for 'eth' interfaces to get the default 
# speed but that requires elevated privileges.  It the ethtool fails, this 
# value (which is in Mb) will be used instead.
# To disable bogus network data checking, set this to any negative value
#DefNetSpeed=10000

# Collectl will automatically size the frequency of headers in 'brief format'
# to the lines in your display window using the resize utility.  If that utility
# can't be found, it will use the size speficied in 'HeaderRepeat'.  If resize
# is in the path but you want a fixed/different size, comment out the Resize line
# and uncomment HeaderRepeat, setting it to what you want.
#HeaderRepeat = 20
Resize=/usr/bin/resize:/usr/X11R6/bin/resize
